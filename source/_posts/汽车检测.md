---
title: 汽车检测
date: 2024-05-09 11:06:54
tags:
categories:
    - opencv
---

汽车检测

<!--more-->

## 加载前景掩码的视频窗口



```python
import cv2
import numpy as np

cap=cv2.VideoCapture('./vehicle.mp4')
bgsubmog=cv2.createBackgroundSubtractorMOG2()

while True:
    ret,frame = cap.read()
    if(ret == True):
        frameGray=cv2.cvtColor(frame,cv2.COLOR_BGR2GRAY)
        maskOrigin=bgsubmog.apply(frameGray)
        cv2.imshow('video',maskOrigin)

    key=cv2.waitKey(50)
    if(key==27):
        break

cap.realase()
cv2.destroyAllWindows()
```

![QQ20240509111303.png](https://s2.loli.net/2024/05/09/liE3zXhjNgL8QSZ.png)

## 去除噪点

```python
import cv2
import numpy as np


cap=cv2.VideoCapture('./vehicle.mp4')
bgsubmog=cv2.createBackgroundSubtractorMOG2()
kernel = cv2.getStructuringElement(cv2.MORPH_RECT,(5,5))

while True:
    ret,frame = cap.read()
    if(ret == True):
        frameGray=cv2.cvtColor(frame,cv2.COLOR_BGR2GRAY)
        maskOrigin=bgsubmog.apply(frameGray)
        ret,mask=cv2.threshold(maskOrigin,130,255,cv2.THRESH_BINARY)
        
        erode=cv2.erode(mask,kernel)
        dilate=cv2.dilate(erode,kernel,iterations=3)

        
        cv2.imshow('video',dilate)

    key=cv2.waitKey(50)
    if(key==27):
        break

cap.realase()
cv2.destroyAllWindows()
```

![QQ20240509112249.png](https://s2.loli.net/2024/05/09/OGkljeSXxH61VPI.png)


