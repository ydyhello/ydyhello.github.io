---
title: 颜色空间
date: 2024-03-14 11:29:14
tags:
categories:
    - opencv
---

- 色彩空间变换
- 像素访问
- 矩阵操作 +, -, *, /
- 基本图形的绘制

<!--more-->
## 颜色空间转换

```python
import cv2

cv2.namedWindow('mywin', cv2.WINDOW_NORMAL)
cv2.resizeWindow('mywin',640,640)
img = cv2.imread('./test.jpg')

colorspace = [cv2.COLOR_BGR2RGB, cv2.COLOR_BGR2BGRA, cv2.COLOR_BGR2GRAY, cv2.COLOR_BGR2HSV, cv2.COLOR_BGR2YUV]
while True:
    cvt_img=cv2.cvtColor(img, colorspace[2])
    cv2.imshow('mywin', cvt_img)
    key = cv2.waitKey(0)

    if(key == ord('q')):
        print('exit')
        break
cv2.destroyAllWindows()
```
![QQ截图20240321100949.png](https://s2.loli.net/2024/03/21/VpfAs8OZQgjnTa6.png)

## numpy

```python
import numpy as np
import cv2
cv2.namedWindow('mywin', cv2.WINDOW_NORMAL)
cv2.resizeWindow('mywin',640,480)

img = np.zeros((480,640,3))

roi=img[100:200, 200:300]
roi[:,:]=[0,0,255]
while True:
    cv2.imshow('mywin', img)
    key = cv2.waitKey(0)
    if(key == ord('q')):
        print('exit')
        break
cv2.destroyAllWindows()
```

![QQ截图20240321100853.png](https://s2.loli.net/2024/03/21/L8F9pTQNUSrWsMh.png)

## 拷贝

```python
import cv2
import numpy as np

img = cv2.imread('./test.jpg')

# img2 = img # 浅拷贝
img2 = img.copy() # 深拷贝
img[10:100, 10:100] = [0, 0, 255]
cv2.imshow('img', img)
cv2.imshow('img2', img2)

cv2.waitKey(0)
cv2.destroyAllWindows()
```

- 浅拷贝
![QQ截图20240321101635.png](https://s2.loli.net/2024/03/21/UjNegYROnJl6ZXG.png)

- 深拷贝
![QQ截图20240321101831.png](https://s2.loli.net/2024/03/21/uaOwqDnxT9Ztlzs.png)


```python
import cv2
import numpy as np

img = cv2.imread('./test2.png')

# # img2 = img # 浅拷贝
# img2 = img.copy() # 深拷贝
# img[10:100, 10:100] = [0, 0, 255]
# cv2.imshow('img', img)
# cv2.imshow('img2', img2)
b,g,r=cv2.split(img)

b[100:300,100:300]=255
g[100:300,100:300]=255

img2=cv2.merge((b,g,r))

cv2.imshow('b', b)
cv2.imshow('g', g)
cv2.imshow('r', r)

cv2.waitKey(0)
cv2.destroyAllWindows()
```

![QQ截图20240321102940.png](https://s2.loli.net/2024/03/21/DfowXIKj2pSmqG8.png)